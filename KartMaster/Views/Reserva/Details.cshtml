@model KartMaster.Models.Reserva

@{
    ViewData["Title"] = "Detalhes da Reserva";
    // Preparação da formatação da duração (ex: 1h 30min 15s)
    var dur = Model.Duracao;
    var partes = new List<string>();
    if (dur.Hours > 0) partes.Add($"{dur.Hours}h");
    if (dur.Minutes > 0) partes.Add($"{dur.Minutes}min");
    if (dur.Seconds > 0) partes.Add($"{dur.Seconds}s");
    var duracaoFormatada = string.Join(" ", partes);
}

<h1>Detalhes da Reserva</h1>
<hr />
@* Tabela com os detalhes da reserva *@
<dl class="row">
    <dt class="col-sm-2">
        Autódromo
    </dt>
    <dd class="col-sm-10">
        @Model.Autodromo?.Nome
    </dd>

    <dt class="col-sm-2">
        Nome
    </dt>
    <dd class="col-sm-10">
        @Model.NomeReservante
    </dd>

    <dt class="col-sm-2">
        Nº Pessoas
    </dt>
    <dd class="col-sm-10">
        @Model.NumeroPessoas
    </dd>

    <dt class="col-sm-2">
        Data
    </dt>
    <dd class="col-sm-10">
        @Model.Data.ToShortDateString()
    </dd>

    <dt class="col-sm-2">
        Hora
    </dt>
    <dd class="col-sm-10">
        @Model.Hora.ToString(@"hh\:mm")
    </dd>

    <dt class="col-sm-2">
        Duração
    </dt>
    <dd class="col-sm-10">
        @duracaoFormatada
    </dd>

    <dt class="col-sm-2">
        Utilizador
    </dt>
    <dd class="col-sm-10">
        @Model.Utilizador?.Email
    </dd>
</dl>

@* Botões para editar a reserva ou voltar à lista *@
<div>
    <a class="btn btn-primary" asp-action="Edit" asp-route-id="@Model.Id">Editar</a>
    <a class="btn btn-secondary" asp-action="Index">Voltar à Lista</a>
</div>
